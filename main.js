!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_type_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},t=(e,t,r)=>{e.querySelector(`#${t.id}-error`).textContent="",t.classList.remove(r.inputErrorClass)},r=(e,t,r)=>{(e=>e.some(e=>!e.validity.valid))(e)?n(t,r):(t.disabled=!1,t.classList.remove(r.inactiveButtonClass))},n=(e,t)=>{e.disabled=!0,e.classList.add(t.inactiveButtonClass)},o=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}_handleServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getAppInfo(){return Promise.all([this.getInitialCards(),this.getUserInfo()])}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._handleServerResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._handleServerResponse)}editUserInfo({name:e,about:t}){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._handleServerResponse)}editUserAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._handleServerResponse)}addNewCard(e,t){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._handleServerResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleServerResponse)}changeLikeStatus(e,t){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers}).then(this._handleServerResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"0307662c-e5c7-4385-9413-db52ab77dee9","Content-Type":"application/json"}}),a=document.querySelector("#edit-profile-modal"),c=document.querySelector(".profile__head-edit"),s=a.querySelector(".modal__close-btn"),i=document.querySelector("#avatar-modal"),l=document.querySelector(".profile__avatar-btn"),d=i.querySelector(".modal__close-btn"),u=document.querySelector("#avatar-form-button"),m=document.querySelector("#avatar-form"),_=document.querySelector("#avatar-input"),h=document.querySelector("#new-post-modal"),v=document.querySelector(".profile__new-post-button"),f=h.querySelector(".modal__close-btn"),S=document.querySelector(".profile__image"),y=document.querySelector(".profile__head-text-name"),p=document.querySelector(".profile__head-text-bio"),b=document.querySelector("#profile-name-input"),q=document.querySelector("#profile-description-input"),E=document.querySelector("#profile-form"),L=document.querySelector("#profile-form-button"),k=document.querySelector("#post-form"),C=document.querySelector("#post-form-button"),g=document.querySelector("#card-image-input"),x=document.querySelector("#card-caption-input"),U=document.querySelector("#image-modal"),A=U.querySelector(".modal__image"),$=U.querySelector(".modal__image-caption"),D=U.querySelector(".modal__close-image-btn"),I=document.querySelector("#delete-modal"),R=I.querySelector(".modal__close-btn"),w=I.querySelector(".modal__form"),T=I.querySelector(".modal__delete-btn"),N=I.querySelector(".modal__cancel-btn"),P=document.querySelectorAll(".modal");let B,O;const j=document.querySelector("#card-template").content.querySelector(".card"),J=document.querySelector(".cards__list");function H(e){const t=j.cloneNode(!0),r=t.querySelector(".card__image"),n=t.querySelector(".card__text");r.setAttribute("src",e.link),r.setAttribute("alt",e.name),n.textContent=e.name;const a=t.querySelector(".card__like-btn");return a.addEventListener("click",t=>function(e,t){const r=e.target.classList.contains("card__like-btn_liked");o.changeLikeStatus(t,r).then(()=>{e.target.classList.toggle("card__like-btn_liked")}).catch(console.error)}(t,e._id)),e.isLiked?a.classList.add("card__like-btn_liked"):a.classList.remove("card__like-btn_liked"),t.querySelector(".card__delete-btn").addEventListener("click",()=>{!function(e,t){B=e,O=t,z(I)}(t,e._id)}),r.addEventListener("click",function(){A.setAttribute("src",e.link),A.setAttribute("alt",e.name),$.textContent=e.name,z(U)}),t}function z(e){e.classList.add("modal_is-opened"),e.addEventListener("click",F),document.addEventListener("keydown",G)}function M(e){e.classList.remove("modal_is-opened"),e.removeEventListener("click",F),document.removeEventListener("keydown",G)}function F(e){P.forEach(t=>{e.target.classList.contains("modal")&&M(t)})}function G(e){P.forEach(t=>{"Escape"===e.key&&M(t)})}var K;o.getAppInfo().then(([e,t])=>{e.forEach(e=>{const t=H(e);J.append(t)}),y.textContent=t.name,p.textContent=t.about,S.src=t.avatar}).catch(console.error),c.addEventListener("click",function(){var r,o;z(a),b.value=y.textContent,q.value=p.textContent,r=E,o=e,[b,q].forEach(e=>{t(r,e,o)}),n(L,e)}),s.addEventListener("click",function(){M(a)}),v.addEventListener("click",function(){z(h)}),f.addEventListener("click",function(){M(h)}),l.addEventListener("click",function(){z(i)}),d.addEventListener("click",function(){M(i)}),R.addEventListener("click",function(){M(I)}),N.addEventListener("click",function(){M(I)}),E.addEventListener("submit",function(t){t.preventDefault(),L.textContent="Saving...",o.editUserInfo({name:b.value,about:q.value}).then(t=>{y.textContent=t.name,p.textContent=t.about,n(L,e),M(a)}).catch(console.error).finally(()=>{L.textContent="Save"})}),k.addEventListener("submit",function(t){t.preventDefault(),C.textContent="Saving...",o.addNewCard(x.value,g.value).then(r=>{const o=H(r);J.prepend(o),M(h),n(C,e),t.target.reset()}).catch(console.error).finally(()=>{C.textContent="Save"})}),m.addEventListener("submit",function(t){t.preventDefault(),u.textContent="Saving...",o.editUserAvatar(_.value).then(r=>{S.src=r.avatar,M(i),n(u,e),t.target.reset()}).catch(console.error).finally(()=>{u.textContent="Save"})}),w.addEventListener("submit",function(e){e.preventDefault(),T.textContent="Deleting...",o.deleteCard(O).then(()=>{B.remove(),M(I)}).catch(console.error).finally(()=>{T.textContent="Delete"})}),D.addEventListener("click",function(){M(U)}),K=e,document.querySelectorAll(K.formSelector).forEach(e=>{((e,n)=>{const o=Array.from(e.querySelectorAll(n.inputSelector)),a=e.querySelector(n.submitButtonSelector);r(o,a,n),o.forEach(c=>{c.addEventListener("input",function(){((e,r,n)=>{r.validity.valid?t(e,r,n):((e,t,r,n)=>{e.querySelector(`#${t.id}-error`).textContent=r,t.classList.add(n.inputErrorClass)})(e,r,r.validationMessage,n)})(e,c,n),r(o,a,n)})})})(e,K)})}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWtCeEksRUFBUUUsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvc2NyaXB0cy92YWxpZGF0aW9uLmpzIiwid2VicGFjazovL3NlX3Byb2plY3Rfc3BvdHMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy91dGlscy9hcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdC1idG5cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0LWJ0bl90eXBlX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG5jb25zdCBzaG93SW5wdXRFcnJvciA9IChmb3JtRWwsIGlucHV0RWwsIGVycm9yTXNnLCBjb25maWcpID0+IHtcbiAgY29uc3QgZXJyb3JNc2dFbCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICBlcnJvck1zZ0VsLnRleHRDb250ZW50ID0gZXJyb3JNc2c7XG4gIGlucHV0RWwuY2xhc3NMaXN0LmFkZChjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IGhpZGVJbnB1dEVycm9yID0gKGZvcm1FbCwgaW5wdXRFbCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGVycm9yTXNnRWwgPSBmb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgZXJyb3JNc2dFbC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbn07XG5cbmNvbnN0IGNoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWwsIGlucHV0RWwsIGNvbmZpZykgPT4ge1xuICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICBzaG93SW5wdXRFcnJvcihmb3JtRWwsIGlucHV0RWwsIGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2UsIGNvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsLCBpbnB1dEVsLCBjb25maWcpO1xuICB9XG59O1xuXG5jb25zdCBoYXNJbnZhbGlkSW5wdXQgPSAoaW5wdXRMaXN0KSA9PiB7XG4gIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcbiAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICB9KTtcbn07XG5cbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKGlucHV0TGlzdCwgYnV0dG9uRWwsIGNvbmZpZykgPT4ge1xuICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICBkaXNhYmxlQnV0dG9uKGJ1dHRvbkVsLCBjb25maWcpO1xuICB9IGVsc2Uge1xuICAgIGJ1dHRvbkVsLmRpc2FibGVkID0gZmFsc2U7XG4gICAgYnV0dG9uRWwuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkaXNhYmxlQnV0dG9uID0gKGJ1dHRvbkVsLCBjb25maWcpID0+IHtcbiAgYnV0dG9uRWwuZGlzYWJsZWQgPSB0cnVlO1xuICBidXR0b25FbC5jbGFzc0xpc3QuYWRkKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXNldFZhbGlkYXRpb24gPSAoZm9ybUVsLCBpbnB1dExpc3QsIGNvbmZpZykgPT4ge1xuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWwsIGlucHV0LCBjb25maWcpO1xuICB9KTtcbn07XG5cbmNvbnN0IHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm1FbCwgY29uZmlnKSA9PiB7XG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50LCBjb25maWcpO1xuXG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWwsIGlucHV0RWxlbWVudCwgY29uZmlnKTtcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCwgY29uZmlnKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWwpID0+IHtcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtRWwsIGNvbmZpZyk7XG4gIH0pO1xufTtcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQge1xuICBlbmFibGVWYWxpZGF0aW9uLFxuICBzZXR0aW5ncyxcbiAgZGlzYWJsZUJ1dHRvbixcbiAgcmVzZXRWYWxpZGF0aW9uLFxufSBmcm9tIFwiLi4vc2NyaXB0cy92YWxpZGF0aW9uLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi91dGlscy9hcGkuanNcIjtcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiMDMwNzY2MmMtZTVjNy00Mzg1LTk0MTMtZGI1MmFiNzdkZWU5XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuY29uc3QgZWRpdFByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1wcm9maWxlLW1vZGFsXCIpO1xuY29uc3QgZWRpdFByb2ZpbGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2hlYWQtZWRpdFwiKTtcbmNvbnN0IGVkaXRQcm9maWxlQ2xvc2UgPSBlZGl0UHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcblxuY29uc3QgZWRpdEF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItbW9kYWxcIik7XG5jb25zdCBlZGl0QXZhdGFyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItYnRuXCIpO1xuY29uc3QgZWRpdEF2YXRhckNsb3NlID0gZWRpdEF2YXRhck1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlLWJ0blwiKTtcbmNvbnN0IGVkaXRBdmF0YXJTdWJtaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1mb3JtLWJ1dHRvblwiKTtcbmNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1mb3JtXCIpO1xuY29uc3QgYXZhdGFySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1pbnB1dFwiKTtcblxuY29uc3QgbmV3UG9zdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctcG9zdC1tb2RhbFwiKTtcbmNvbnN0IG5ld1Bvc3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25ldy1wb3N0LWJ1dHRvblwiKTtcbmNvbnN0IG5ld1Bvc3RDbG9zZSA9IG5ld1Bvc3RNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idG5cIik7XG5cbmNvbnN0IHByb2ZpbGVBdmF0YXJBY3RpdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xuY29uc3QgcHJvZmlsZU5hbWVBY3RpdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2hlYWQtdGV4dC1uYW1lXCIpO1xuY29uc3QgcHJvZmlsZUJpb0FjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faGVhZC10ZXh0LWJpb1wiKTtcblxuY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1uYW1lLWlucHV0XCIpO1xuY29uc3QgcHJvZmlsZUJpb0lucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCIpO1xuXG5jb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1mb3JtXCIpO1xuY29uc3QgcHJvZmlsZUZvcm1TYXZlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWZvcm0tYnV0dG9uXCIpO1xuXG5jb25zdCBwb3N0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9zdC1mb3JtXCIpO1xuY29uc3QgcG9zdFN1Ym1pdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9zdC1mb3JtLWJ1dHRvblwiKTtcblxuY29uc3QgY2FyZEltYWdlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtaW1hZ2UtaW5wdXRcIik7XG5jb25zdCBjYXJkQ2FwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLWNhcHRpb24taW5wdXRcIik7XG5cbmNvbnN0IGltYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLW1vZGFsXCIpO1xuY29uc3QgaW1hZ2VNb2RhbEltYWdlID0gaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcbmNvbnN0IGltYWdlTW9kYWxDYXB0aW9uID0gaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1jYXB0aW9uXCIpO1xuY29uc3QgaW1hZ2VNb2RhbENsb3NlQnRuID0gaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1pbWFnZS1idG5cIik7XG5cbmNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWxldGUtbW9kYWxcIik7XG5jb25zdCBkZWxldGVNb2RhbENsb3NlID0gZGVsZXRlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2UtYnRuXCIpO1xuY29uc3QgZGVsZXRlTW9kYWxGb3JtID0gZGVsZXRlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGRlbGV0ZU1vZGFsQnRuID0gZGVsZXRlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZGVsZXRlLWJ0blwiKTtcbmNvbnN0IGRlbGV0ZU1vZGFsQ2FuY2VsID0gZGVsZXRlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FuY2VsLWJ0blwiKTtcblxuY29uc3QgbW9kYWxMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbFwiKTtcblxubGV0IHNlbGVjdGVkQ2FyZCwgc2VsZWN0ZWRDYXJkSWQ7XG5cbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIilcbiAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpO1xuXG5jb25zdCBjYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xuXG5mdW5jdGlvbiBoYW5kbGVMaWtlKGV2dCwgaWQpIHtcbiAgY29uc3QgaXNMaWtlZCA9IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZF9fbGlrZS1idG5fbGlrZWRcIik7XG4gIGFwaVxuICAgIC5jaGFuZ2VMaWtlU3RhdHVzKGlkLCBpc0xpa2VkKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnRuX2xpa2VkXCIpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xufVxuXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChkYXRhKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZFRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcblxuICBjb25zdCBjYXJkSW1hZ2UgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICBjb25zdCBjYXJkVGl0bGUgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RleHRcIik7XG5cbiAgY2FyZEltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBkYXRhLmxpbmspO1xuICBjYXJkSW1hZ2Uuc2V0QXR0cmlidXRlKFwiYWx0XCIsIGRhdGEubmFtZSk7XG4gIGNhcmRUaXRsZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcblxuICBjb25zdCBsaWtlQnV0dG9uID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ0blwiKTtcblxuICBsaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiBoYW5kbGVMaWtlKGV2dCwgZGF0YS5faWQpKTtcblxuICBpZiAoZGF0YS5pc0xpa2VkKSB7XG4gICAgbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idG5fbGlrZWRcIik7XG4gIH0gZWxzZSB7XG4gICAgbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idG5fbGlrZWRcIik7XG4gIH1cblxuICBjb25zdCBkZWxldGVCdXR0b24gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idG5cIik7XG5cbiAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgaGFuZGxlRGVsZXRlQ2FyZChjYXJkRWxlbWVudCwgZGF0YS5faWQpO1xuICB9KTtcblxuICBjYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBpbWFnZU1vZGFsSW1hZ2Uuc2V0QXR0cmlidXRlKFwic3JjXCIsIGRhdGEubGluayk7XG4gICAgaW1hZ2VNb2RhbEltYWdlLnNldEF0dHJpYnV0ZShcImFsdFwiLCBkYXRhLm5hbWUpO1xuICAgIGltYWdlTW9kYWxDYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIG9wZW5Nb2RhbChpbWFnZU1vZGFsKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xufVxuXG5hcGlcbiAgLmdldEFwcEluZm8oKVxuICAudGhlbigoW2NhcmRzLCB1c2VyXSkgPT4ge1xuICAgIGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICAgIGNvbnN0IGluaXRpYWxDYXJkID0gZ2V0Q2FyZEVsZW1lbnQoY2FyZCk7XG4gICAgICBjYXJkc0xpc3QuYXBwZW5kKGluaXRpYWxDYXJkKTtcbiAgICB9KTtcblxuICAgIHByb2ZpbGVOYW1lQWN0aXZlLnRleHRDb250ZW50ID0gdXNlci5uYW1lO1xuICAgIHByb2ZpbGVCaW9BY3RpdmUudGV4dENvbnRlbnQgPSB1c2VyLmFib3V0O1xuICAgIHByb2ZpbGVBdmF0YXJBY3RpdmUuc3JjID0gdXNlci5hdmF0YXI7XG4gIH0pXG4gIC5jYXRjaChjb25zb2xlLmVycm9yKTtcblxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9pcy1vcGVuZWRcIik7XG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVPdmVybGF5Q2xvc2VNb2RhbCk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZUNsb3NlTW9kYWwpO1xufVxuXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9pcy1vcGVuZWRcIik7XG4gIG1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVPdmVybGF5Q2xvc2VNb2RhbCk7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZUNsb3NlTW9kYWwpO1xufVxuXG5lZGl0UHJvZmlsZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBvcGVuTW9kYWwoZWRpdFByb2ZpbGVNb2RhbCk7XG4gIHByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZUFjdGl2ZS50ZXh0Q29udGVudDtcbiAgcHJvZmlsZUJpb0lucHV0LnZhbHVlID0gcHJvZmlsZUJpb0FjdGl2ZS50ZXh0Q29udGVudDtcbiAgcmVzZXRWYWxpZGF0aW9uKHByb2ZpbGVGb3JtLCBbcHJvZmlsZU5hbWVJbnB1dCwgcHJvZmlsZUJpb0lucHV0XSwgc2V0dGluZ3MpO1xuICBkaXNhYmxlQnV0dG9uKHByb2ZpbGVGb3JtU2F2ZUJ0biwgc2V0dGluZ3MpO1xufSk7XG5cbmVkaXRQcm9maWxlQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgY2xvc2VNb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcbn0pO1xuXG5uZXdQb3N0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gIG9wZW5Nb2RhbChuZXdQb3N0TW9kYWwpO1xufSk7XG5cbm5ld1Bvc3RDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBjbG9zZU1vZGFsKG5ld1Bvc3RNb2RhbCk7XG59KTtcblxuZWRpdEF2YXRhckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBvcGVuTW9kYWwoZWRpdEF2YXRhck1vZGFsKTtcbn0pO1xuXG5lZGl0QXZhdGFyQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgY2xvc2VNb2RhbChlZGl0QXZhdGFyTW9kYWwpO1xufSk7XG5cbmRlbGV0ZU1vZGFsQ2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgY2xvc2VNb2RhbChkZWxldGVNb2RhbCk7XG59KTtcblxuZGVsZXRlTW9kYWxDYW5jZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgY2xvc2VNb2RhbChkZWxldGVNb2RhbCk7XG59KTtcblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlU3VibWl0KGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgZGVsZXRlTW9kYWxCdG4udGV4dENvbnRlbnQgPSBcIkRlbGV0aW5nLi4uXCI7XG5cbiAgYXBpXG4gICAgLmRlbGV0ZUNhcmQoc2VsZWN0ZWRDYXJkSWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgc2VsZWN0ZWRDYXJkLnJlbW92ZSgpO1xuICAgICAgY2xvc2VNb2RhbChkZWxldGVNb2RhbCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBkZWxldGVNb2RhbEJ0bi50ZXh0Q29udGVudCA9IFwiRGVsZXRlXCI7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNhcmQoY2FyZEVsZW1lbnQsIGNhcmRJZCkge1xuICBzZWxlY3RlZENhcmQgPSBjYXJkRWxlbWVudDtcbiAgc2VsZWN0ZWRDYXJkSWQgPSBjYXJkSWQ7XG4gIG9wZW5Nb2RhbChkZWxldGVNb2RhbCk7XG59XG5cbnByb2ZpbGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICBwcm9maWxlRm9ybVNhdmVCdG4udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuXG4gIGFwaVxuICAgIC5lZGl0VXNlckluZm8oe1xuICAgICAgbmFtZTogcHJvZmlsZU5hbWVJbnB1dC52YWx1ZSxcbiAgICAgIGFib3V0OiBwcm9maWxlQmlvSW5wdXQudmFsdWUsXG4gICAgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcHJvZmlsZU5hbWVBY3RpdmUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgICBwcm9maWxlQmlvQWN0aXZlLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcblxuICAgICAgZGlzYWJsZUJ1dHRvbihwcm9maWxlRm9ybVNhdmVCdG4sIHNldHRpbmdzKTtcblxuICAgICAgY2xvc2VNb2RhbChlZGl0UHJvZmlsZU1vZGFsKTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHByb2ZpbGVGb3JtU2F2ZUJ0bi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xuICAgIH0pO1xufSk7XG5cbnBvc3RGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICBwb3N0U3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcblxuICBhcGlcbiAgICAuYWRkTmV3Q2FyZChjYXJkQ2FwdGlvbklucHV0LnZhbHVlLCBjYXJkSW1hZ2VJbnB1dC52YWx1ZSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgY2FyZEVsID0gZ2V0Q2FyZEVsZW1lbnQoZGF0YSk7XG4gICAgICBjYXJkc0xpc3QucHJlcGVuZChjYXJkRWwpO1xuXG4gICAgICBjbG9zZU1vZGFsKG5ld1Bvc3RNb2RhbCk7XG4gICAgICBkaXNhYmxlQnV0dG9uKHBvc3RTdWJtaXRCdG4sIHNldHRpbmdzKTtcbiAgICAgIGV2dC50YXJnZXQucmVzZXQoKTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHBvc3RTdWJtaXRCdG4udGV4dENvbnRlbnQgPSBcIlNhdmVcIjtcbiAgICB9KTtcbn0pO1xuXG5hdmF0YXJGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICBlZGl0QXZhdGFyU3VibWl0QnRuLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcblxuICBhcGlcbiAgICAuZWRpdFVzZXJBdmF0YXIoYXZhdGFySW5wdXQudmFsdWUpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHByb2ZpbGVBdmF0YXJBY3RpdmUuc3JjID0gZGF0YS5hdmF0YXI7XG5cbiAgICAgIGNsb3NlTW9kYWwoZWRpdEF2YXRhck1vZGFsKTtcbiAgICAgIGRpc2FibGVCdXR0b24oZWRpdEF2YXRhclN1Ym1pdEJ0biwgc2V0dGluZ3MpO1xuICAgICAgZXZ0LnRhcmdldC5yZXNldCgpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgZWRpdEF2YXRhclN1Ym1pdEJ0bi50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xuICAgIH0pO1xufSk7XG5cbmRlbGV0ZU1vZGFsRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZURlbGV0ZVN1Ym1pdCk7XG5cbmltYWdlTW9kYWxDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBjbG9zZU1vZGFsKGltYWdlTW9kYWwpO1xufSk7XG5cbmZ1bmN0aW9uIGhhbmRsZU92ZXJsYXlDbG9zZU1vZGFsKGV2ZW50KSB7XG4gIG1vZGFsTGlzdC5mb3JFYWNoKChtb2RhbCkgPT4ge1xuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikpIHtcbiAgICAgIGNsb3NlTW9kYWwobW9kYWwpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUVzY2FwZUNsb3NlTW9kYWwoZXZlbnQpIHtcbiAgbW9kYWxMaXN0LmZvckVhY2goKG1vZGFsKSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgY2xvc2VNb2RhbChtb2RhbCk7XG4gICAgfVxuICB9KTtcbn1cblxuZW5hYmxlVmFsaWRhdGlvbihzZXR0aW5ncyk7XG4iLCJjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgX2hhbmRsZVNlcnZlclJlc3BvbnNlKHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICAvLyBvdGhlciBtZXRob2RzIGZvciB3b3JraW5nIHdpdGggdGhlIEFQSVxuXG4gIGdldEFwcEluZm8oKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldEluaXRpYWxDYXJkcygpLCB0aGlzLmdldFVzZXJJbmZvKCldKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlU2VydmVyUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIGVkaXRVc2VySW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBlZGl0VXNlckF2YXRhcihhdmF0YXIpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXIsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIGFkZE5ld0NhcmQobmFtZSwgbGluaykge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBsaW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVNlcnZlclJlc3BvbnNlKTtcbiAgfVxuXG4gIGNoYW5nZUxpa2VTdGF0dXMoaWQsIGlzTGlrZWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IGlzTGlrZWQgPyBcIkRFTEVURVwiIDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBpO1xuIl0sIm5hbWVzIjpbInNldHRpbmdzIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJoaWRlSW5wdXRFcnJvciIsImZvcm1FbCIsImlucHV0RWwiLCJjb25maWciLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRMaXN0IiwiYnV0dG9uRWwiLCJzb21lIiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZUJ1dHRvbiIsImRpc2FibGVkIiwiYWRkIiwiYXBpIiwiY29uc3RydWN0b3IiLCJiYXNlVXJsIiwiaGVhZGVycyIsInRoaXMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2hhbmRsZVNlcnZlclJlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEFwcEluZm8iLCJhbGwiLCJnZXRJbml0aWFsQ2FyZHMiLCJnZXRVc2VySW5mbyIsImZldGNoIiwidGhlbiIsImVkaXRVc2VySW5mbyIsIm5hbWUiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZWRpdFVzZXJBdmF0YXIiLCJhdmF0YXIiLCJhZGROZXdDYXJkIiwibGluayIsImRlbGV0ZUNhcmQiLCJjaGFuZ2VMaWtlU3RhdHVzIiwiaXNMaWtlZCIsImF1dGhvcml6YXRpb24iLCJlZGl0UHJvZmlsZU1vZGFsIiwiZG9jdW1lbnQiLCJlZGl0UHJvZmlsZUJ0biIsImVkaXRQcm9maWxlQ2xvc2UiLCJlZGl0QXZhdGFyTW9kYWwiLCJlZGl0QXZhdGFyQnRuIiwiZWRpdEF2YXRhckNsb3NlIiwiZWRpdEF2YXRhclN1Ym1pdEJ0biIsImF2YXRhckZvcm0iLCJhdmF0YXJJbnB1dCIsIm5ld1Bvc3RNb2RhbCIsIm5ld1Bvc3RCdG4iLCJuZXdQb3N0Q2xvc2UiLCJwcm9maWxlQXZhdGFyQWN0aXZlIiwicHJvZmlsZU5hbWVBY3RpdmUiLCJwcm9maWxlQmlvQWN0aXZlIiwicHJvZmlsZU5hbWVJbnB1dCIsInByb2ZpbGVCaW9JbnB1dCIsInByb2ZpbGVGb3JtIiwicHJvZmlsZUZvcm1TYXZlQnRuIiwicG9zdEZvcm0iLCJwb3N0U3VibWl0QnRuIiwiY2FyZEltYWdlSW5wdXQiLCJjYXJkQ2FwdGlvbklucHV0IiwiaW1hZ2VNb2RhbCIsImltYWdlTW9kYWxJbWFnZSIsImltYWdlTW9kYWxDYXB0aW9uIiwiaW1hZ2VNb2RhbENsb3NlQnRuIiwiZGVsZXRlTW9kYWwiLCJkZWxldGVNb2RhbENsb3NlIiwiZGVsZXRlTW9kYWxGb3JtIiwiZGVsZXRlTW9kYWxCdG4iLCJkZWxldGVNb2RhbENhbmNlbCIsIm1vZGFsTGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZWxlY3RlZENhcmQiLCJzZWxlY3RlZENhcmRJZCIsImNhcmRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjYXJkc0xpc3QiLCJnZXRDYXJkRWxlbWVudCIsImRhdGEiLCJjYXJkRWxlbWVudCIsImNsb25lTm9kZSIsImNhcmRJbWFnZSIsImNhcmRUaXRsZSIsInNldEF0dHJpYnV0ZSIsImxpa2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwidGFyZ2V0IiwiY29udGFpbnMiLCJ0b2dnbGUiLCJjYXRjaCIsImNvbnNvbGUiLCJlcnJvciIsImhhbmRsZUxpa2UiLCJfaWQiLCJjYXJkSWQiLCJvcGVuTW9kYWwiLCJoYW5kbGVEZWxldGVDYXJkIiwibW9kYWwiLCJoYW5kbGVPdmVybGF5Q2xvc2VNb2RhbCIsImhhbmRsZUVzY2FwZUNsb3NlTW9kYWwiLCJjbG9zZU1vZGFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZm9yRWFjaCIsImtleSIsImNhcmRzIiwidXNlciIsImNhcmQiLCJpbml0aWFsQ2FyZCIsImFwcGVuZCIsInNyYyIsInJlc2V0VmFsaWRhdGlvbiIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJmaW5hbGx5IiwiY2FyZEVsIiwicHJlcGVuZCIsInJlc2V0Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJBcnJheSIsImZyb20iLCJidXR0b25FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiY2hlY2tJbnB1dFZhbGlkaXR5Iiwic2hvd0lucHV0RXJyb3IiLCJlcnJvck1zZyIsInZhbGlkYXRpb25NZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==